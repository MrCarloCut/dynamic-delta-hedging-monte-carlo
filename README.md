# Dynamic Delta Hedging with Monte Carlo Delta (Black–Scholes Model)

This repository implements **dynamic delta hedging** for an at-the-money European call option under the Black–Scholes model.  
The focus is on computing the hedge ratio (Delta) via a **Monte Carlo bump-and-revalue** method and comparing it to the analytical Black–Scholes Delta along a hedging path.

## 1. Model overview

We assume that the underlying stock price follows a geometric Brownian motion:

- Under the real-world measure \(P\):
  \[
  dS_t = \mu S_t dt + \sigma S_t dW_t^P,
  \]
- Under the risk-neutral measure \(Q\):
  \[
  dS_t = r S_t dt + \sigma S_t dW_t^Q.
  \]

Pricing and Delta are always computed under the **risk-neutral measure** with drift \(r\), while the hedging P&L is generated by simulating the stock under the **real-world measure** with drift \(\mu\).

We focus on an ATM European call option with:
- \(S_0 \approx K\): at-the-money spot and strike  
- maturity \(T\)  
- volatility \(\sigma\)  
- risk-free rate \(r\)  

## 2. Implemented components

All code is provided in a Jupyter notebook using `numpy`, `scipy` and `matplotlib`.

### 2.1 Monte Carlo pricing

- **`MC_pricing_call`**  
  Prices a European call option via standard Monte Carlo under the risk-neutral dynamics:
  - simulates terminal prices \(S_T\) with drift \(r\);
  - computes discounted payoffs \(\max(S_T - K, 0) e^{-rT}\);
  - returns the Monte Carlo estimate and a confidence interval.

### 2.2 Monte Carlo Delta (bump-and-revalue)

- **`Delta`**  
  Computes Delta at a generic time \(t\) using a **central finite-difference** Monte Carlo approximation:
  \[
  \Delta(t,S_t) \approx \frac{C(S_t + h, t) - C(S_t - h, t)}{2h}.
  \]

For each Delta evaluation:
- perturb the current spot by \(h\);
- simulate terminal prices from \(t\) to \(T\) under the risk-neutral measure;
- compute the discounted payoff difference and divide by \(2h\).

This is conceptually simple, but computationally expensive.

### 2.3 Dynamic hedging with Monte Carlo pricing

- **`Dynamic_Hedging_MC`**  

Implements a **self-financing dynamic delta hedging strategy** along a single simulated stock path:

1. **Initialization**
   - price the option at \(t = 0\) with `MC_pricing_call`;
   - compute Delta at \(t = 0\) with `Delta`;
   - set the cash position \(\beta_0 = V_0 - \Delta_0 S_0\).

2. **Rebalancing (discrete grid with \(N\) steps)**
   - evolve the stock under the real drift \(\mu\);
   - update portfolio value \(V_t = \Delta_{t^-} S_t + \beta_{t^-} e^{r \Delta t}\);
   - recompute Delta with `Delta` and update the cash position.

3. **Maturity**
   - compute final portfolio value \(V_T\);
   - compare \(V_T\) to the payoff \(\max(S_T - K, 0)\) and record the hedging error \(V_T - \text{payoff}\).

The notebook repeats this procedure over multiple paths and visualizes the **distribution of hedging errors** via histograms.

### 2.4 Dynamic hedging with Black–Scholes pricing

- **`black_scholes_formula`**  
  Closed-form Black–Scholes price for a European call option.

- **`Dynamic_Hedging_MC_BS_pricing`**  

Same dynamic hedging strategy as above, but:
- the initial option value \(V_0\) is computed using the analytical Black–Scholes formula;
- Delta is still computed via Monte Carlo (`Delta`) at each rebalancing time.

This setup isolates the impact of **Monte Carlo pricing noise vs Delta approximation** on the hedging error distribution.

### 2.5 Delta path comparison (BS vs MC)

- **`Dynamic_Hedging_delta_comparison`**  

Simulates a single stock path and runs two parallel hedging “views”:
- analytical Black–Scholes Delta \(\Delta^{BS}_t = N(d_1(t,S_t))\);
- Monte Carlo Delta \(\Delta^{MC}_t\) from the bump-and-revalue estimator.

The function stores:
- the BS Delta path (`alpha`);
- the MC Delta path (`delta`).

The notebook then plots both trajectories:
- BS Delta is smooth and almost monotone (as expected for a call in Black–Scholes);
- MC Delta appears noisier, fluctuating around the analytical curve, with noise level controlled by the number of simulations used in `Delta`.

## 3. Experiments and plots

The notebook includes the following experiments:

1. **Hedging error distribution (MC pricing + MC Delta)**  
   - repeated simulations of the dynamic hedging strategy;
   - histogram of \(V_T - \max(S_T - K, 0)\);
   - empirical mean and standard deviation of the hedging error.

2. **Hedging error distribution (BS pricing + MC Delta)**  
   - same analysis with analytical pricing at time 0;
   - comparison of histograms to see how much error comes from pricing vs Delta approximation.

3. **Delta comparison over time**  
   - plot of \(\Delta^{BS}_t\) vs \(\Delta^{MC}_t\) along a single simulated path;
   - visual illustration of Monte Carlo noise and convergence behaviour of the Delta estimator.

## 4. Possible extensions

Ideas for future work that can be added in separate notebooks:

- Implement a **pathwise Delta estimator** and compare its variance and runtime to the bump-and-revalue approach.
- Introduce **transaction costs** or coarser rebalancing frequencies (e.g. weekly vs daily) and study the impact on the hedging error distribution.
- 
This project is intended as a hands-on study of how a Monte Carlo Delta approximation behaves inside a dynamic hedging strategy in the Black–Scholes framework.
